<script type="text/javascript" src="/static/js/packery.min.js"></script>

<dom-module id="dshbrd-grid">
    <template>
        <style>
            :host {
                display: block;
                margin-top: 50px;
            }

            #grid {
                max-width: 1000px;
                margin: 0 auto;
            }
        </style>
        <div id="grid"></div>
    </template>
</dom-module>
<script>
  Polymer({
    is: "dshbrd-grid",
    properties: {
    	width: Number,
    	height: Number
    },
    attached: function() {
        var wall = new Freewall("#grid");
        this.wall = wall
       	wall.reset({
            selector: '.card',
            animate: true,
            draggable: true,
            cellW: this.width,
            cellH: this.height,
            onResize: function() {
            	wall.fitWidth();
            }
        });
    },
    addCard: function(card) {
    	this.wall.appendBlock(card[0]);
    	$(window).trigger("resize");
    }
  });
</script>
