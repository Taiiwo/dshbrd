<script type="text/javascript" src="/static/js/shapeshift.js"></script>

<dom-module id="dshbrd-grid">
    <template>
        <style>
          .grid {
            position: relative;
            width: 100%;
          }

          .card {
            display: block;
            position: absolute !important;
            width: 300px !important;
            height: 300px;
          }
        </style>
        <div class="grid"></div>
    </template>
</dom-module>
<script>
  Polymer({
    is: "dshbrd-grid",
    attached: function(){
      var self = this;
      $(window).on("cards_added", function() {
        self.reloadGrid()
      })
    },
    addCard: function(card){
      $(".grid").append($(card[0]).addClass("card").addClass("dshbrd-grid"));
    },
    reloadGrid: function() {
      $(".grid").shapeshift({
        selector: ".card",
        centerDragging: false,
        colWidth: 300,
        paddingX: 50,
        gutterX: 50,
        gutterY: 50
      })
    }
  });
</script>
